(export (version D)
  (design
    (source "D:\\YandexDisk\\KiCad Projects\\timr_canon_pcb\\timer.sch")
    (date "12.05.2019 22:18:42")
    (tool "Eeschema (5.0.2)-1")
    (sheet (number 1) (name /) (tstamps /)
      (title_block
        (title "Пульт управления фотоаппаратом Canon")
        (company)
        (rev)
        (date)
        (source timer.sch)
        (comment (number 1) (value ""))
        (comment (number 2) (value ""))
        (comment (number 3) (value ""))
        (comment (number 4) (value "")))))
  (components
    (comp (ref U3)
      (value STM32F030K6Tx)
      (footprint Housings_QFP:LQFP-32_7x7mm_Pitch0.8mm)
      (libsource (lib timer-rescue) (part STM32F030K6Tx) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA56E80))
    (comp (ref J2)
      (value OLED)
      (footprint Pin_Headers:Pin_Header_Straight_1x04_Pitch2.54mm)
      (libsource (lib timer-rescue) (part CONN_01X04) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA56F7F))
    (comp (ref Y1)
      (value Crystal)
      (footprint Crystals:Crystal_HC49-4H_Vertical)
      (libsource (lib Device) (part Crystal) (description "Two pin crystal"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA57137))
    (comp (ref C3)
      (value 20pF)
      (footprint Capacitors_SMD:C_0805_HandSoldering)
      (libsource (lib Device) (part C) (description "Unpolarized capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA571F1))
    (comp (ref C4)
      (value 20pF)
      (footprint Capacitors_SMD:C_0805_HandSoldering)
      (libsource (lib Device) (part C) (description "Unpolarized capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA57236))
    (comp (ref R1)
      (value 470)
      (footprint Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA57800))
    (comp (ref R2)
      (value 470)
      (footprint Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA57865))
    (comp (ref J1)
      (value Photo)
      (footprint Pin_Headers:Pin_Header_Straight_1x03_Pitch2.54mm)
      (libsource (lib timer-rescue) (part CONN_01X03) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA59D1D))
    (comp (ref C2)
      (value 22uF)
      (footprint Capacitors_SMD:C_0805_HandSoldering)
      (libsource (lib Device) (part CP) (description "Polarized capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA5A93F))
    (comp (ref U1)
      (value AMS1117-3.3)
      (footprint TO_SOT_Packages_SMD:SOT-223)
      (libsource (lib timer-rescue) (part AMS1117-ADJ) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA5AA58))
    (comp (ref C1)
      (value 10uF)
      (footprint Capacitors_SMD:C_0805_HandSoldering)
      (libsource (lib Device) (part CP) (description "Polarized capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA5AB83))
    (comp (ref U5)
      (value MCP73831-2-OT)
      (footprint TO_SOT_Packages_SMD:SOT-23-5)
      (libsource (lib timer-rescue) (part MCP73831-2-OT) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA5C71B))
    (comp (ref J3)
      (value USB_OTG)
      (footprint Connectors:USB_Micro-B)
      (libsource (lib timer-rescue) (part USB_OTG) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA5C854))
    (comp (ref R4)
      (value 2k)
      (footprint Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA5CA03))
    (comp (ref D1)
      (value LED)
      (footprint LEDs:LED_0805)
      (libsource (lib Device) (part LED) (description "Light emitting diode"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA5D192))
    (comp (ref R3)
      (value 470)
      (footprint Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA5D24B))
    (comp (ref C5)
      (value 4.7uF)
      (footprint Capacitors_SMD:C_0805_HandSoldering)
      (libsource (lib Device) (part CP) (description "Polarized capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA5DA5C))
    (comp (ref J4)
      (value PROG_SWD)
      (footprint Pin_Headers:Pin_Header_Straight_1x04_Pitch2.54mm)
      (libsource (lib timer-rescue) (part CONN_01X04) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA603B8))
    (comp (ref J5)
      (value Battery)
      (footprint Pin_Headers:Pin_Header_Straight_1x02_Pitch2.54mm)
      (libsource (lib timer-rescue) (part CONN_01X02) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA6223F))
    (comp (ref SW1)
      (value Encoder)
      (footprint Rotary_Encoder:RotaryEncoder_Alps_EC11E-Switch_Vertical_H20mm)
      (libsource (lib timer-rescue) (part Rotary_Encoder_Switch) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA64708))
    (comp (ref D3)
      (value LED)
      (footprint LEDs:LED_0805)
      (libsource (lib Device) (part LED) (description "Light emitting diode"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA6B784))
    (comp (ref R9)
      (value 470)
      (footprint Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA6B942))
    (comp (ref R8)
      (value 470)
      (footprint Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA6BB54))
    (comp (ref D2)
      (value LED)
      (footprint LEDs:LED_0805)
      (libsource (lib Device) (part LED) (description "Light emitting diode"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BA6BBDA))
    (comp (ref J6)
      (value On/Off)
      (footprint Pin_Headers:Pin_Header_Straight_1x02_Pitch2.54mm)
      (libsource (lib timer-rescue) (part CONN_01X02) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BBA4E6A))
    (comp (ref R5)
      (value 470k)
      (footprint Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder)
      (datasheet ~)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5CD91592))
    (comp (ref R6)
      (value 120k)
      (footprint Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder)
      (datasheet ~)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5CD9164E))
    (comp (ref U2)
      (value MOCD207M)
      (footprint Package_SO:SOIC-8_3.9x4.9mm_P1.27mm)
      (libsource (lib Isolator) (part MOCD207M) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5CDBAEB9)))
  (libparts
    (libpart (lib Device) (part C)
      (description "Unpolarized capacitor")
      (docs ~)
      (footprints
        (fp C_*))
      (fields
        (field (name Reference) C)
        (field (name Value) C))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib Device) (part CP)
      (description "Polarized capacitor")
      (docs ~)
      (footprints
        (fp CP_*))
      (fields
        (field (name Reference) C)
        (field (name Value) CP))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib Device) (part Crystal)
      (description "Two pin crystal")
      (docs ~)
      (footprints
        (fp Crystal*))
      (fields
        (field (name Reference) Y)
        (field (name Value) Crystal))
      (pins
        (pin (num 1) (name 1) (type passive))
        (pin (num 2) (name 2) (type passive))))
    (libpart (lib Device) (part LED)
      (description "Light emitting diode")
      (docs ~)
      (footprints
        (fp LED*)
        (fp LED_SMD:*)
        (fp LED_THT:*))
      (fields
        (field (name Reference) D)
        (field (name Value) LED))
      (pins
        (pin (num 1) (name K) (type passive))
        (pin (num 2) (name A) (type passive))))
    (libpart (lib Device) (part R)
      (description Resistor)
      (docs ~)
      (footprints
        (fp R_*))
      (fields
        (field (name Reference) R)
        (field (name Value) R))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib Isolator) (part MOCD207M)
      (fields
        (field (name Reference) U)
        (field (name Value) MOCD207M)
        (field (name Footprint) Package_SO:SOIC-8_3.9x4.9mm_P1.27mm))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))
        (pin (num 3) (name ~) (type passive))
        (pin (num 4) (name ~) (type passive))
        (pin (num 5) (name ~) (type passive))
        (pin (num 6) (name ~) (type passive))
        (pin (num 7) (name ~) (type passive))
        (pin (num 8) (name ~) (type passive))))
    (libpart (lib timer-rescue) (part AMS1117-ADJ)
      (footprints
        (fp SOT-223*))
      (fields
        (field (name Reference) U)
        (field (name Value) AMS1117-ADJ))
      (pins
        (pin (num 1) (name GND/ADJ) (type power_in))
        (pin (num 2) (name VO) (type power_out))
        (pin (num 3) (name VI) (type power_in))))
    (libpart (lib timer-rescue) (part CONN_01X02)
      (footprints
        (fp Pin_Header_Straight_1X*)
        (fp Pin_Header_Angled_1X*)
        (fp Socket_Strip_Straight_1X*)
        (fp Socket_Strip_Angled_1X*))
      (fields
        (field (name Reference) J)
        (field (name Value) CONN_01X02))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name P2) (type passive))))
    (libpart (lib timer-rescue) (part CONN_01X03)
      (footprints
        (fp Pin_Header_Straight_1X*)
        (fp Pin_Header_Angled_1X*)
        (fp Socket_Strip_Straight_1X*)
        (fp Socket_Strip_Angled_1X*))
      (fields
        (field (name Reference) J)
        (field (name Value) CONN_01X03))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name P2) (type passive))
        (pin (num 3) (name P3) (type passive))))
    (libpart (lib timer-rescue) (part CONN_01X04)
      (footprints
        (fp Pin_Header_Straight_1X*)
        (fp Pin_Header_Angled_1X*)
        (fp Socket_Strip_Straight_1X*)
        (fp Socket_Strip_Angled_1X*))
      (fields
        (field (name Reference) J)
        (field (name Value) CONN_01X04))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name P2) (type passive))
        (pin (num 3) (name P3) (type passive))
        (pin (num 4) (name P4) (type passive))))
    (libpart (lib timer-rescue) (part MCP73831-2-OT)
      (fields
        (field (name Reference) U)
        (field (name Value) MCP73831-2-OT)
        (field (name Footprint) TO_SOT_Packages_SMD:SOT-23-5))
      (pins
        (pin (num 1) (name STAT) (type output))
        (pin (num 2) (name Vss) (type power_in))
        (pin (num 3) (name Vbat) (type power_out))
        (pin (num 4) (name Vdd) (type power_in))
        (pin (num 5) (name PROG) (type input))))
    (libpart (lib timer-rescue) (part Rotary_Encoder_Switch)
      (fields
        (field (name Reference) SW)
        (field (name Value) Rotary_Encoder_Switch))
      (pins
        (pin (num 1) (name A) (type input))
        (pin (num 2) (name C) (type input))
        (pin (num 3) (name B) (type input))
        (pin (num 4) (name ~) (type input))
        (pin (num 5) (name ~) (type input))))
    (libpart (lib timer-rescue) (part STM32F030K6Tx)
      (fields
        (field (name Reference) U)
        (field (name Value) STM32F030K6Tx)
        (field (name Footprint) LQFP32))
      (pins
        (pin (num 1) (name VDD) (type power_in))
        (pin (num 2) (name PF0/RCC_OSC_IN) (type input))
        (pin (num 3) (name PF1/RCC_OSC_OUT) (type input))
        (pin (num 4) (name NRST) (type input))
        (pin (num 5) (name VDDA) (type power_in))
        (pin (num 6) (name ADC_IN0/RTC_TAMP2/SYS_WKUP1/USART1_CTS/PA0) (type BiDi))
        (pin (num 7) (name ADC_IN1/USART1_DE/USART1_RTS/PA1) (type BiDi))
        (pin (num 8) (name ADC_IN2/USART1_TX/PA2) (type BiDi))
        (pin (num 9) (name ADC_IN3/USART1_RX/PA3) (type BiDi))
        (pin (num 10) (name ADC_IN4/SPI1_NSS/TIM14_CH1/USART1_CK/PA4) (type BiDi))
        (pin (num 11) (name ADC_IN5/SPI1_SCK/PA5) (type BiDi))
        (pin (num 12) (name ADC_IN6/SPI1_MISO/TIM16_CH1/TIM1_BKIN/TIM3_CH1/PA6) (type BiDi))
        (pin (num 13) (name ADC_IN7/SPI1_MOSI/TIM14_CH1/TIM17_CH1/TIM1_CH1N/TIM3_CH2/PA7) (type BiDi))
        (pin (num 14) (name PB0/ADC_IN8/TIM1_CH2N/TIM3_CH3) (type BiDi))
        (pin (num 15) (name PB1/ADC_IN9/TIM14_CH1/TIM1_CH3N/TIM3_CH4) (type BiDi))
        (pin (num 16) (name VSS) (type power_in))
        (pin (num 17) (name VDD) (type power_in))
        (pin (num 18) (name RCC_MCO/TIM1_CH1/USART1_CK/PA8) (type BiDi))
        (pin (num 19) (name I2C1_SCL/TIM1_CH2/USART1_TX/PA9) (type BiDi))
        (pin (num 20) (name I2C1_SDA/TIM17_BKIN/TIM1_CH3/USART1_RX/PA10) (type BiDi))
        (pin (num 21) (name TIM1_CH4/USART1_CTS/PA11) (type BiDi))
        (pin (num 22) (name TIM1_ETR/USART1_DE/USART1_RTS/PA12) (type BiDi))
        (pin (num 23) (name IR_OUT/SYS_SWDIO/PA13) (type BiDi))
        (pin (num 24) (name SYS_SWCLK/USART1_TX/PA14) (type BiDi))
        (pin (num 25) (name SPI1_NSS/USART1_RX/PA15) (type BiDi))
        (pin (num 26) (name PB3/SPI1_SCK) (type BiDi))
        (pin (num 27) (name PB4/SPI1_MISO/TIM3_CH1) (type BiDi))
        (pin (num 28) (name PB5/I2C1_SMBA/SPI1_MOSI/TIM16_BKIN/TIM3_CH2) (type BiDi))
        (pin (num 29) (name PB6/I2C1_SCL/TIM16_CH1N/USART1_TX) (type BiDi))
        (pin (num 30) (name PB7/I2C1_SDA/TIM17_CH1N/USART1_RX) (type BiDi))
        (pin (num 31) (name BOOT0) (type input))
        (pin (num 32) (name VSS) (type power_in))))
    (libpart (lib timer-rescue) (part USB_OTG)
      (footprints
        (fp USB*))
      (fields
        (field (name Reference) J)
        (field (name Value) USB_OTG))
      (pins
        (pin (num 1) (name VBUS) (type power_in))
        (pin (num 2) (name D-) (type passive))
        (pin (num 3) (name D+) (type passive))
        (pin (num 4) (name ID) (type passive))
        (pin (num 5) (name GND) (type power_in))
        (pin (num 6) (name Shield) (type passive)))))
  (libraries
    (library (logical Device)
      (uri D:\Soft\KiCad\share\kicad\library/Device.lib))
    (library (logical Isolator)
      (uri D:\Soft\KiCad\share\kicad\library/Isolator.lib))
    (library (logical timer-rescue)
      (uri "D:\\YandexDisk\\KiCad Projects\\timr_canon_pcb/timer-rescue.lib")))
  (nets
    (net (code 1) (name "Net-(C4-Pad1)")
      (node (ref Y1) (pin 1))
      (node (ref U3) (pin 3))
      (node (ref C4) (pin 1)))
    (net (code 2) (name "Net-(D1-Pad1)")
      (node (ref D1) (pin 1))
      (node (ref R3) (pin 1)))
    (net (code 3) (name "Net-(R4-Pad1)")
      (node (ref U5) (pin 5))
      (node (ref R4) (pin 1)))
    (net (code 4) (name "Net-(R3-Pad2)")
      (node (ref U5) (pin 1))
      (node (ref R3) (pin 2)))
    (net (code 5) (name "Net-(D2-Pad2)")
      (node (ref D2) (pin 2))
      (node (ref R8) (pin 1)))
    (net (code 6) (name GND)
      (node (ref C3) (pin 2))
      (node (ref C4) (pin 2))
      (node (ref R6) (pin 2))
      (node (ref SW1) (pin 2))
      (node (ref J3) (pin 5))
      (node (ref J3) (pin 6))
      (node (ref U5) (pin 2))
      (node (ref J4) (pin 4))
      (node (ref C5) (pin 2))
      (node (ref R4) (pin 2))
      (node (ref J5) (pin 2))
      (node (ref U3) (pin 31))
      (node (ref U3) (pin 32))
      (node (ref J2) (pin 1))
      (node (ref U3) (pin 16))
      (node (ref C2) (pin 2))
      (node (ref U1) (pin 1))
      (node (ref C1) (pin 2))
      (node (ref U2) (pin 4))
      (node (ref D2) (pin 1))
      (node (ref D3) (pin 1))
      (node (ref U2) (pin 2)))
    (net (code 7) (name LED_2)
      (node (ref R9) (pin 2))
      (node (ref U3) (pin 22)))
    (net (code 8) (name "Net-(D3-Pad2)")
      (node (ref D3) (pin 2))
      (node (ref R9) (pin 1)))
    (net (code 9) (name 3.3V_2)
      (node (ref J2) (pin 2))
      (node (ref SW1) (pin 4))
      (node (ref J6) (pin 2))
      (node (ref U3) (pin 17))
      (node (ref U3) (pin 1))
      (node (ref J4) (pin 1)))
    (net (code 10) (name 3.3V)
      (node (ref C2) (pin 1))
      (node (ref U1) (pin 2))
      (node (ref J6) (pin 1)))
    (net (code 11) (name "Net-(U3-Pad30)")
      (node (ref U3) (pin 30)))
    (net (code 12) (name "Net-(U3-Pad29)")
      (node (ref U3) (pin 29)))
    (net (code 13) (name "Net-(U3-Pad18)")
      (node (ref U3) (pin 18)))
    (net (code 14) (name "Net-(R2-Pad2)")
      (node (ref U2) (pin 3))
      (node (ref R2) (pin 2)))
    (net (code 15) (name "Net-(R1-Pad1)")
      (node (ref U2) (pin 1))
      (node (ref R1) (pin 1)))
    (net (code 16) (name "Net-(U3-Pad6)")
      (node (ref U3) (pin 6)))
    (net (code 17) (name ADC)
      (node (ref U3) (pin 7))
      (node (ref R5) (pin 2))
      (node (ref R6) (pin 1)))
    (net (code 18) (name "Net-(J1-Pad1)")
      (node (ref J1) (pin 1))
      (node (ref U2) (pin 8)))
    (net (code 19) (name "Net-(J1-Pad2)")
      (node (ref J1) (pin 2))
      (node (ref U2) (pin 6)))
    (net (code 20) (name "Net-(U3-Pad5)")
      (node (ref U3) (pin 5)))
    (net (code 21) (name Vbat)
      (node (ref U5) (pin 3))
      (node (ref J5) (pin 1))
      (node (ref R5) (pin 1))
      (node (ref U1) (pin 3))
      (node (ref C1) (pin 1)))
    (net (code 22) (name "Net-(C3-Pad1)")
      (node (ref Y1) (pin 2))
      (node (ref U3) (pin 2))
      (node (ref C3) (pin 1)))
    (net (code 23) (name GNDA)
      (node (ref U2) (pin 5))
      (node (ref U2) (pin 7))
      (node (ref J1) (pin 3)))
    (net (code 24) (name "Net-(U3-Pad14)")
      (node (ref U3) (pin 14)))
    (net (code 25) (name "Net-(U3-Pad4)")
      (node (ref U3) (pin 4)))
    (net (code 26) (name ENC_B)
      (node (ref SW1) (pin 5))
      (node (ref U3) (pin 11)))
    (net (code 27) (name GATE)
      (node (ref R2) (pin 1))
      (node (ref U3) (pin 26)))
    (net (code 28) (name "Net-(U3-Pad25)")
      (node (ref U3) (pin 25)))
    (net (code 29) (name SWCLK)
      (node (ref U3) (pin 24))
      (node (ref J4) (pin 3)))
    (net (code 30) (name SWDIO)
      (node (ref U3) (pin 23))
      (node (ref J4) (pin 2)))
    (net (code 31) (name LED_1)
      (node (ref U3) (pin 21))
      (node (ref R8) (pin 2)))
    (net (code 32) (name I2C_SDA)
      (node (ref J2) (pin 4))
      (node (ref U3) (pin 20)))
    (net (code 33) (name I2C_SCL)
      (node (ref U3) (pin 19))
      (node (ref J2) (pin 3)))
    (net (code 34) (name FOCUS)
      (node (ref R1) (pin 2))
      (node (ref U3) (pin 27)))
    (net (code 35) (name "Net-(U3-Pad15)")
      (node (ref U3) (pin 15)))
    (net (code 36) (name ENC_1)
      (node (ref SW1) (pin 1))
      (node (ref U3) (pin 13)))
    (net (code 37) (name ENC_2)
      (node (ref SW1) (pin 3))
      (node (ref U3) (pin 12)))
    (net (code 38) (name "Net-(U3-Pad10)")
      (node (ref U3) (pin 10)))
    (net (code 39) (name "Net-(U3-Pad9)")
      (node (ref U3) (pin 9)))
    (net (code 40) (name "Net-(U3-Pad8)")
      (node (ref U3) (pin 8)))
    (net (code 41) (name "Net-(U3-Pad28)")
      (node (ref U3) (pin 28)))
    (net (code 42) (name 5V)
      (node (ref D1) (pin 2))
      (node (ref C5) (pin 1))
      (node (ref J3) (pin 1))
      (node (ref U5) (pin 4)))
    (net (code 43) (name "Net-(J3-Pad4)")
      (node (ref J3) (pin 4)))
    (net (code 44) (name "Net-(J3-Pad3)")
      (node (ref J3) (pin 3)))
    (net (code 45) (name "Net-(J3-Pad2)")
      (node (ref J3) (pin 2)))))